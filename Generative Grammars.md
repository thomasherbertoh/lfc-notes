# Generative Grammars
## Informally
### Ingredients of a generative grammar
- One #non-terminal symbol of the vocabulary is chosen as the start symbol, e.g. 'S' in {S, a, b}
- Fix a set of #productions
	- Rules for rewriting strings into strings
	- Constraint
		- The string to be replaced must contain at least one #non-terminal 
		- E.g., $\{S \rightarrow aSb, S \rightarrow ab\}$

#Language of words of terminals can be generated from the start symbol
- Apply rewriting rules in any possible way, as many times as possible
- Each rewriting is called a derivation step
- Using $\{S \rightarrow aSb, S \rightarrow ab\}$
	- $\{S \implies ab\}$
		- One-step derivation from S
		- "ab" is made up of #terminals only
		- Hence "ab" belongs to the language generated by the given grammar
	- $\{S \implies aSb \implies aabb\}$
		- Two-step derivation from S
		- "aabb" is made up of #terminals only
		- Hence "aabb" belongs to the language generated by the given grammar
	- $\{S \implies aSb \implies aaSbb\}$
		- Two-step derivation from S
		- But "aaSbb" contains a #non-terminal 
		- Hence "aaSbb" does not belong to the language generated by the given grammar
	- The language generated by this grammar could be described as follows
		- $\{a^nb^n | n > 0\}$

### Example using [[Conventions#Epsilon epsilon|epsilon]]
$S \rightarrow aAb$
$aA \rightarrow aaAb$
$A \rightarrow \epsilon$
- Generated language: $\{a^nb^n | n > 0\}$
- Observation: different grammars can generate the same language
```ad-note
This grammar is **not** #context-free as in production 2 there is a #terminal $(a)$ preceding a #non-terminal $(A)$.
```

### Example of the generation of an empty language
$S \rightarrow AB$
$A \rightarrow a$
- Generated language: $\emptyset$
- Observation: all derivations of this grammar will contain a #non-terminal, therefore no words are actually generated

### Another example using [[Conventions#Epsilon epsilon|epsilon]]
$S \rightarrow \epsilon$
- Generated language: $\{\epsilon\}$
- Observation: $\{\epsilon\} \neq \emptyset$

### Example of the meaning of [[Conventions#Epsilon epsilon|epsilon]]
$S \rightarrow aSb$
$S \rightarrow \epsilon$
- Generated language: $\{a^nb^n | n > 0\} \cup \{\epsilon\} = \{a^nb^n | n \ge 0\}$

## Formally
A grammar is a tuple; (V, T, S, P)

| Symbol | Meaning                                                  |
| ------ | -------------------------------------------------------- |
| V      | Vocabulary of #terminals and #non-terminals              |
| T      | Set of #terminals                                        |
| S      | Start symbol in $V \setminus T$ ($\therefore$ set of #non-terminals ) |
| P      | Set of [[Generative Grammars#Productions\|productions]]  | 

### Productions
- General form: $\delta$ -> $\beta$
- $\delta \in V^+$^[where $V^+$ means one or more repetitions of elements of V]
- $\delta$ contains at least one #non-terminal 
- $\delta$ called **driver** of the production
- $\beta$ called **body** of the production

### Language generated
Given the grammar $G = (V, T, S, P)$
$L(G) = \{w | w \in T^*$ and $S \implies^*\ w\}$

## Context-free grammars/free grammars
- $A \implies \beta$
- Important for [[Generated Languages#Context-free languages|context-free languages]]

### Cleaning up context-free grammars
#### Theorem
- Let $L$ be a [[Generated Languages#Context-free languages|context-free language]]. Then there exists a context-free grammar such that $L(G) = L \setminus \{\epsilon\}$ and that has
	- No $\epsilon$-production (i.e. no production of the shape $A \rightarrow \epsilon$)
	- No unit production (i.e. no production of the shape $A \rightarrow B$)
	- No useless #non-terminal (i.e. #non-terminals that never appear in some derivations of some strings of #terminals)

#### Epsilon production elimination
- Find **nullable** #non-terminals, i.e., every #non-terminal $A$ such that $A$ =>$^* \ \epsilon$
	- Base: if $A \rightarrow \epsilon$ is a production, then $A$ is nullable
	- Iteration: if $A \rightarrow Y_1Y_2...Y_n$ is a production and $Y_1,\ Y_2,\ ...,\ Y_n$ are all nullable, then $A$ is nullable
- Substitute each production $A \rightarrow Y_1Y_2...Y_n$ with a family of productions where combinations of nullable $Y_i$s are removed from the body.
	- Exception: if all $Y_i$s are nullable, the production $A \rightarrow \epsilon$ does not belong to the family
- Eliminate every production $A \rightarrow \epsilon$

````ad-example
- $S \rightarrow ABC \mid abc$
- $A \rightarrow aB \mid \epsilon$
- $B \rightarrow bA \mid C$
- $C \rightarrow \epsilon$
	- $A$ and $C$ nullable by $A \rightarrow \epsilon$, $C \rightarrow \epsilon$
	- $B$ nullable by $B \rightarrow C$ and $C$ nullable
	- $S$ nullable by $S \rightarrow ABC$ and $A,\ B,\ C$ nullable
	- Then the grammar becomes
		- $S \rightarrow ABC \mid abc \mid AB \mid AC \mid BC \mid A \mid B \mid C$
		- $A \rightarrow aB \mid a$
		- $B \rightarrow bA \mid b\mid C$
```ad-note
$C$ is now useless and productions involving it can be removed.
```
````