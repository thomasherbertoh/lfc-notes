# Generated Languages
- G = (V, T, S, P)
- L(G) = $\{w\ |\ w \in T^*$ and $S$ $\implies^*\ w\}$
- $T^*$ because $w$ may just be $\epsilon$

## Context-free languages
- L is a context-free language iff there exists a [[Generative Grammars#Context-free grammars free grammars|context-free grammar]] G such that L = L(G)
- $L$ context-free language $\iff \exists$ [[Generative Grammars#Context-free grammars free grammars|context-free grammar]] $G \mid L=L(G)$

### Canonical derivations
- Rightmost (leftmost) derivation step
	- Replace the rightmost (leftmost) #non-terminlal 
- Canonical derivations of words in the language
	- Either every step is rightmost or every step is leftmost

### Derivation trees
- Start symbol is root
- For every derivation step under the production
	- $A \implies X_1X_2...X_n$
- Generate children $X_1X_2...X_n$ for node $A$
- Terminals ^[and [[Conventions#Epsilon epsilon|epsilon]]] are the leaves
- The derived word is read from the leaves of the tree

### Ambiguity
- Grammar $G$ is **ambiguous** iff there exists $w \in L(G)$ that can be generated by two distinct canonical derivations, either both rightmost or both leftmost

#### Arithmetic expressions
- $E \rightarrow E + E \mid E * E \mid n$
- Ambiguous?
	- Take $w = n + n * n$
	- $E \implies E+E \implies n+E \implies n+E*E \implies n+n*E \implies n+n*n$
	- Same applies using solely rightmost derivations

### Properties
#### Closure w.r.t^[with respect to] union
##### Lemma
- The class of free languages ir closed w.r.t set-union, meaning if $L_1$ and $L_2$ are free languages then $L_1 \cup L_2$ is a free language

##### Proof
- Let $L_1$ and $L_2$ be free languages
- Then there exist two free grammars $G_1 = (V_1, T_1, S_1, P_1)$ and $G_2 = (V_2, T_2, S_2, P_2)$ such that $L_1 = L(G_1)$ and $L_2 = L(G_2)$
- Let $V^{'}_{2}$ be a refresh of $V_2$ to avoid possible name clashes with #non-terminals in $V_1$ (no refresh needed when all #non-terminals of $G_2$ are different from those of $G_1$)
- Let $G = (V_1 \cup V^{'}_{2} \cup \{S\},\ T_1 \cup T_2,\ S,\ P_1 \cup P^{'}_{2} \cup \{S \rightarrow S_1 \mid S^{'}_{2}\})$ where
	- $S$ is a new symbol not in $\{V_1 \cup V^{'}_{2}\}$
	- $S^{'}_{2}$ stands for the refresh of $S_2$
	- $P^{'}_{2}$ stands for the refresh of the productions in $P_2$
- Then $L(G)$ is free and $L(G) = L(G_1) \cup L(G_2)$
```ad-note
Symbols from $L_1$ cannot be used in the production of words in $L_2$ and vice-versa. That is, words generated starting with the production $S \rightarrow S_1$ will belong to $L_1$ whereas words generated starting with the production $S \rightarrow S^{'}_{2}$ will belong to $L_2$.
```

###### Why is $G$ free?
- The productions of $G$ are those in $P_1 \cup P^{'}_{2} \cup \{S \rightarrow S_1 \mid S^{'}_{2}\}$
- The productions in both $P_1$ and $P^{'}_{2}$ have the same form as they do before name refreshing, hence the form $A \rightarrow \alpha$
- The productions $S \rightarrow S_1$ and $S \rightarrow S^{'}_{2}$ also have the form $A \rightarrow \alpha$

#### Closure w.r.t concatenation
##### Lemma
- The class of free languages is closed w.r.t concatenation, meaning
	- If $L_1$ and $L_2$ are free languages then $\{w_1w_2 \mid w_1 \in L_1$ and $w_2 \in L_2\}$ is a free language

##### Proof
- Let $L_1$ and $L_2$ be free languages
- Then there exist two free grammars $G_1 = V_1, T_1, S_1, P_1)$ and $G_2 = (V_2, T_2, S_2, P_2)$ such that $L_1 = L(G_1)$ and $L_2 = L(G_2)$
- Notice that, wlog^[without loss of generality], we can assume that there is no clash between the #non-terminals of $G_1$ and those of $G_2$. In fact, we can always apply renaming as done in the proof on closure w.r.t union
- Let $G = (V_1 \cup V_2 \cup \{S\},\ T_1 \cup T_2,\ S,\ P_1 \cup P_2 \cup \{S \rightarrow S_1S_2\})$ where $S$ is a new symbol not in $\{V_1 \cup V_2\}$
- Then $L(G)$ is free and $L(G) = \{w_1w_2 \mid w_1 \in L(G_1)$ and $w_2 \in L(G_2)\}$

#### Closure w.r.t intersection does not hold
##### Lemma
- The class of free languages is not closed w.r.t intersection

##### Proof by contradiction
- Take two free languages $L_1$ and $L_2$ whose intersection is not free
- $L_1 = \{a^nb^nc^j \mid n, j > 0\}$
- $L_2 = \{a^jb^nc^n \mid n > 0\}$
- $L_1 \cap L_2 = \{a^nb^nc^n \mid n > 0\}$

### Exercises
- Define a grammar $G$ such that $L(G)$ is the set of all even binary numbers
	- $S \rightarrow 0S \mid 1S \mid 0$
		- Ensures that the final character/digit is always a zero, as if it were a 1 it would be followed by an S and would therefore not be part of the language
- Define a grammar $G'$ such that $L(G') = \{1^n0 \mid n \ge 0\}$
	- $S \rightarrow A0 \mid 0$
	- $A \rightarrow 1A \mid 1$
- $L(G) = L(G')$?
	- No: $000000 \in L(G)$ but $\notin L(G')$